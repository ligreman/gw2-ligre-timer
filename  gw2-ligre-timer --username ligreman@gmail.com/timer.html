<!DOCTYPE html>

<script type="text/javascript">
  <!--
    var lang = (navigator.language || navigator.systemLanguage || navigator.userLanguage || 'en').substr(0, 2).toLowerCase();

    if (lang != 'en' && lang != 'es' && lang != 'fr' && lang != 'de') {
      lang = 'en';
    }
  -->
</script>

<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>GW2 Ligre Timer</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <style type="text/css">
      body {
        padding-top: 60px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }

      @media (max-width: 980px) {
        /* Enable use of floated navbar text */
        .navbar-text.pull-right {
          float: none;
          padding-left: 5px;
          padding-right: 5px;
        }
      }
    </style>
    <link href="css/bootstrap-responsive.min.css" rel="stylesheet">
    <link href="css/styles.css" rel="stylesheet">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="../assets/js/html5shiv.js"></script>
    <![endif]-->

    <!-- Fav and touch icons -->    
    <link rel="shortcut icon" href="../assets/ico/favicon.png">

    <script type="text/javascript" src="js/text.js"></script>
  </head>

  <body>

    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">                
        <a class="brand" href="#">Chest Event Timers - EOL</a>
        <span id="clock" class="brand"></span>
      </div>
    </div>



    <div id="main" class="container-fluid">
      <div class="row-fluid">        
        <div class="span9">

          <div class="well well-small opciones">

            <div id="collapse" class="row-fluid collapse in"> 
              <div class="span6">                                 
                  <label><i class="icon-globe"></i> <span class="txt_1">Server</span> A <select id="serverA" name="serverA"><option value="none" class="initial txt_2">Select a server</option></select></label>
                  <label><i class="icon-globe"></i> <span class="txt_1">Server</span> B <select id="serverB" name="serverB"><option value="none" class="initial txt_2">Select a server</option></select></label>
                  <label><i class="icon-globe"></i> <span class="txt_1">Server</span> C <select id="serverC" name="serverC"><option value="none" class="initial txt_2">Select a server</option></select></label>   
              </div>
              <!--<div class="span2">
                <p><button id="update_timers" type="button" class="btn btn-large btn-primary"><span class="txt_3_1">Update</span><br /><span class="txt_3_2">timers</span></button></p>                
              </div>-->
              <div class="span3">
                <p><i class="icon-time"></i> <strong class="txt_4">Timers</strong></p>
                <p class="marginBmini"><label><input id="auto-refresh" class="bottom" type="checkbox" checked="checked" /> <span class="txt_5">Auto-refresh timers</span></label></p>
                <p class="marginBmini"><label><input id="notify_pre-events" class="bottom" type="checkbox" checked="checked" /> <span class="txt_6">Notify pre-events too</span></label></p>
                <p class="marginBmini"><label><input id="notify_sounds" class="bottom" type="checkbox" checked="checked" /> <span class="txt_7">Play alert sounds</span></label></p>
                <!--<p><label><input id="notify_sounds" class="bottom" type="checkbox" /> <span class="txt_13">Use Chrome notifications</span></label></p>-->
                             
              </div>
              <div class="span3">
                <p><i class="icon-eye-open"></i> <strong class="txt_8">Visualization</strong></p>
                <p><label><input id="real_names" class="bottom" type="checkbox" checked="checked" /> <span class="txt_9">Use real names of events</span></label></p>
                <p><label><input id="table_condensed" class="bottom" type="checkbox" /> <span class="txt_10">Table condensed</span></label></p>
                <p><button id="update_timers" type="button" class="btn btn-primary nomargin"><strong><span class="txt_3_1">Update</span> <span class="txt_3_2">timers</span></strong></button></p>
              </div>
            </div>          

            <div class="center">
              <button type="button" class="btn handler" data-toggle="collapse" data-target="#collapse"><i class="icon-cog"></i> <span class="txt_11">Settings</span></button> 
              <span id="timer_status">OFF</span>
            </div>
          </div>
          
          <table class="table table-striped" id="event_table">
            <thead>
              <tr id="servers">
                <td></td>
                <td class="t50 negrita"><span class="txt_14 mright">Events completed</span> <button id="btn_reset" class="btn btn-mini txt_12">Reset all events</button></td>
                <th class="serverA"><span class="txt_1">Server</span> A</th>
                <th class="serverB"><span class="txt_1">Server</span> B</th>
                <th class="serverC"><span class="txt_1">Server</span> C</th>
              </tr>
            </thead>
            <tbody>              
            </tbody>
          </table>

        </div><!--/span-->

        <div id="alerts" class="span3">
          <div class="well well-small messages">  

          </div><!--/.well -->
        </div><!--/span-->

      </div><!--/row-->

      <hr>

      <footer>
        <p>BETA v0.9 &copy; <a href="htt://ligresoftware.ligreman.com">Ligre Software</a> 2013</p>
      </footer>

    </div><!--/.fluid-container-->


    <div id="data" class="hidden">
      <div class="events">
        <!-- <span id="example">none</span> -->
      </div>
    </div>

    <audio id="audio_boss">
      <source src="audio/boss.mp3"></source>            
    </audio>
    <audio id="audio_default">
      <source src="audio/pres.mp3"></source>            
    </audio>



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="js/jquery-1.9.1.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/general.js"></script>
    <script src="js/load_json.js"></script>    

    <script type="text/javascript" src="js/jquery.noty.js"></script>
    <script type="text/javascript" src="js/notytheme/bottomRight.js"></script>
    <script type="text/javascript" src="js/notytheme/default.js"></script>

    <script type="text/javascript">
      <!--
        $(document).ready(function() {
          var w_alto = $('#main').innerHeight();
          $('div.messages.well').height(w_alto+'px');// css('height', w_alto);

          //Traducir interfaz aquí
          $('.txt_1').text(text["server"]);
          $('.txt_2').text(text["select_server"]);
          $('.txt_3_1').text(text["update_timers"]);
          $('.txt_3_2').text(text["update_timers2"]);
          $('.txt_4').text(text["timers"]);
          $('.txt_5').text(text["autorefresh"]);
          $('.txt_6').text(text["notify_prevents"]);
          $('.txt_7').text(text["play_sounds"]);
          $('.txt_8').text(text["visualization"]);
          $('.txt_9').text(text["real_names"]);
          $('.txt_10').text(text["condensed"]);
          $('.txt_11').text(text["settings"]);
          $('.txt_12').text(text["reset_events"]);
          $('.txt_13').text(text["usechrome"]);
          $('.txt_14').text(text["done"]);
       
          //Reloj
          clock();

        });
      //-->
    </script>
    


<script>
  function a() {
    setInterval(notify, 10000);
  }
  function notify() {
    var havePermission = window.webkitNotifications.checkPermission();
    if (havePermission == 0) {
      // 0 is PERMISSION_ALLOWED
      var notification = window.webkitNotifications.createNotification(
        'http://crystaltales.net46.net/img/events/03BF176A-D59F-49CA-A311-39FC6F533F2F.jpg',
        'Tequalt the sunless acaba de aparecer!',
        '-claro de aurora-'
      );

      notification.onclick = function () {        
        notification.close();
      }
      notification.ondisplay = function () {        
        setTimeout(function(){ notification.close(); }, 5000);
      }
      notification.show();
    } else {
        window.webkitNotifications.requestPermission();
    }
    
  }  

  if (window.webkitNotifications) {
    console.log("Notifications are supported!");
  } else {
    console.log("Notifications are not supported for this Browser/OS version yet.");
  }




  /***********
    //De inicio, para pedir permiso si acaso
      if (window.webkitNotifications) {
        var havePermission = window.webkitNotifications.checkPermission();
        if (havePermission != 0) {
          window.webkitNotifications.requestPermission();
        }
      } else {
        console.log("Notifications are not supported for this Browser/OS version yet.");
      }

    //A la hora de notificar, si tengo permiso y he activado las notificaciones de Chrome en preferencias
    //Si no, muestro notificación normal
  */
</script>

<!--<div style="width: 300px; height: 300px; background: yellow" onclick="a()">
Cick here to notify
</div>-->


  </body>
</html>
